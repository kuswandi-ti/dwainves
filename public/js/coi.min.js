!function(t){var a={};function e(r){if(a[r])return a[r].exports;var n=a[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=a,e.d=function(t,a,r){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)e.d(r,n,function(a){return t[a]}.bind(null,n));return r},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="/",e(e.s=2)}({2:function(t,a,e){t.exports=e("w30f")},w30f:function(t,a){$(document).ready((function(){t();$("#datatable_certificate_of_invoice_hdr").DataTable({destroy:!0,processing:!0,serverSide:!0,ajax:{url:"/certificate-of-invoice/list_certificate_of_invoice_hdr",dataType:"json",type:"POST"},columns:[{data:"id",name:"id",visible:!1},{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1},{data:"certificate_no",name:"certificate_no",orderable:!0,searchable:!0},{data:"certificate_date",name:"certificate_date",orderable:!0,searchable:!0},{data:"plo_no",name:"plo_no",orderable:!0,searchable:!0},{data:"grand_total",name:"grand_total",orderable:!0,searchable:!0,render:function(t,a,e,r){return currencyFormat(e.grand_total)}},{data:"action",name:"action",orderable:!1,searchable:!1}],order:[["3","desc"],["2","desc"]],columnDefs:[{className:"text-center",targets:[0,1,2,3,4,5,6]}],autoWidth:!1,responsive:!0});function t(){$(".select2").select2().val("0").trigger("change"),$("#detail_input_rdi").empty(),$("#no_faktur_pajak").val(""),$("#kode_jenis_transaksi").val(""),$("#fg_pengganti").val(""),$("#nomor_faktur").val(""),$("#tanggal_faktur").val(""),$("#dpp_faktur").val(""),$("#ppn_faktur").val(""),$("#detail_input_faktur_pajak").empty(),$("#no_invoice_supplier").val(""),$("#tanggal_invoice_supplier").val(moment().format(format_date_display_2)),$("#detail_invoice_tmp").empty(),$.ajax({url:"/certificate-of-invoice/list_certificate_of_invoice_tmp",type:"GET",datatype:"json",beforeSend:function(){$("#detail_invoice_tmp").LoadingOverlay("show",!0)},complete:function(){$("#detail_invoice_tmp").LoadingOverlay("hide",!0)},success:function(t){$("#detail_invoice_tmp").empty();var a="";$.isEmptyObject(t)?(a+="<tr>",a+='<td colspan="9" class="text-center"><b>Tidak Ada Data</b></td>',a+="</tr>"):t.forEach((function(t){a+="<tr>",a+='<td class="text-center">'+t.plo_no+'<input type="hidden" value="'+t.plo_no+'" id="plo_no_tmp[]" name="plo_no_tmp[]" class="form-control" readonly>',a+="</td>",a+='<td class="text-center">'+t.invoice_no+'<input type="hidden" value="'+t.invoice_no+'" id="invoice_no_tmp[]" name="invoice_no_tmp[]" class="form-control" readonly>',a+="</td>",a+='<td class="text-center">'+moment(t.invoice_date).format(format_date_display_2)+'<input type="hidden" value="'+moment(t.invoice_date).format(format_date_display_3)+'" id="invoice_date_tmp[]" name="invoice_date_tmp[]" class="form-control" readonly>',a+="</td>",a+='<td class="text-center">'+t.faktur_name+'<input type="hidden" value="'+t.faktur_name+'" id="faktur_name_tmp[]" name="faktur_name_tmp[]" class="form-control" readonly>',a+="</td>",a+='<td class="text-center">'+moment(t.faktur_date).format(format_date_display_2)+'<input type="hidden" value="'+moment(t.faktur_datee).format(format_date_display_3)+'" id="faktur_date_tmp[]" name="faktur_date_tmp[]" class="form-control" readonly>',a+="</td>",a+='<td class="text-right">'+currencyFormat(t.dpp)+'<input type="hidden" value="'+t.dpp+'" id="dpp_tmp[]" name="dpp_tmp[]" class="form-control" readonly>',a+="</td>",a+='<td class="text-right">'+currencyFormat(t.ppn)+'<input type="hidden" value="'+t.ppn+'" id="ppn_tmp[]" name="ppn_tmp[]" class="form-control" readonly>',a+="</td>",a+='<td class="text-right">'+currencyFormat(t.total)+'<input type="hidden" value="'+t.total+'" id="total_tmp[]" name="total_tmp[]" class="form-control" readonly>',a+="</td>",a+="<td class=\"text-center\"><a style='font-size:14px;font-weight:bold' href='javascript:void(0)' id='detail_inv' data-toggle='tooltip' title='Detail Invoice' data-invoice_no='"+t.invoice_no+"' data-original-title='Detail Invoice' class='detail_inv btn btn-success btn-sm'><i class='fas fa-eye'></i></a><a style='font-size:14px;font-weight:bold' href='javascript:void(0)' id='delete_inv' data-toggle='tooltip' title='Delete Invoice' data-invoice_no='"+t.invoice_no+"' data-original-title='Delete Invoice' class='delete_inv btn btn-danger btn-sm'><i class='fas fa-trash-alt'></i></a></td>",a+="</tr>"})),$("#detail_invoice_tmp").html(a)},error:function(t,a,e){$("#detail_invoice_tmp").LoadingOverlay("hide",!0);var r=t.status+": "+t.statusText;Swal.fire({type:"error",title:"<strong>Error</strong>",text:r})}}).always((function(){$.LoadingOverlay("hide")}))}$("body").on("change","#cbo_nomor_plo",(function(){var t=$("#cbo_nomor_plo option:selected").attr("data-id");$.ajax({url:"/certificate-of-invoice/get_data_rdi/"+t,type:"GET",datatype:"json",beforeSend:function(){$("#detail_input_rdi").LoadingOverlay("show",!0)},complete:function(){$("#detail_input_rdi").LoadingOverlay("hide",!0)},success:function(a){if($("#detail_input_rdi").empty(),"0"==t)return!1;if($.isEmptyObject(a))$("#detail_input_rdi").append('<h1 class="text-center text-danger">Tidak ada data</h1>');else{var e="",r=0;e+="<hr>",e+='<div class="table-responsive">',e+='<table class="table table-striped" id="table_rdi">',e+="<thead>",e+="<tr>",e+='<th class="text-center">#</th>',e+='<th class="text-center">Nomor DI</th>',e+='<th class="text-center">Tanggal DI</th>',e+='<th class="text-center">DPP</th>',e+='<th class="text-center">PPN</th>',e+='<th class="text-center">Total</th>',e+='<th class="text-center">Detail</th>',e+="</tr>",e+="</thead>",e+="<tbody>",a.forEach((function(t){e+="<tr>",e+='<td class="text-center"><input type="checkbox" class="text-center" id="chk_select[]" name="chk_select[]" value="'+r+'">',e+='<input type="hidden" value="'+parseInt(t.SysId_RDI)+'" id="sysid_rdi[]" name="sysid_rdi[]" class="form-control" readonly>',e+="</td>",e+='<td class="text-center">'+t.No_RDI+'<input type="hidden" value="'+t.No_RDI+'" id="no_rdi[]" name="no_rdi[]" class="form-control" readonly>',e+="</td>",e+='<td class="text-center">'+moment(t.Tanggal_RDI).format(format_date_display_2)+'<input type="hidden" value="'+moment(t.Tanggal_RDI).format(format_date_display_3)+'" id="tgl_rdi[]" name="tgl_rdi[]" class="form-control" readonly>',e+="</td>",e+='<td class="text-center">'+currencyFormat(t.DPP)+'<input type="hidden" value="'+t.DPP+'" id="dpp_rdi[]" name="dpp_rdi[]" class="form-control" readonly>',e+="</td>",e+='<td class="text-center">'+currencyFormat(t.PPN)+'<input type="hidden" value="'+t.PPN+'" id="ppn_rdi[]" name="ppn_rdi[]" class="form-control" readonly>',e+="</td>",e+='<td class="text-center">'+currencyFormat(parseFloat(t.DPP)+parseFloat(t.PPN))+'<input type="hidden" value="'+(parseFloat(t.DPP)+parseFloat(t.PPN))+'" id="total_rdi[]" name="total_rdi[]" class="form-control" readonly>',e+="</td>",e+='<td class="text-center">',e+="<a href='javascript:void(0)' id='detail_rdi' data-toggle='tooltip' title='Detail Delivery Instruction' data-sysid_rdi='"+parseInt(t.SysId_RDI)+"' data-no_rdi='"+t.No_RDI+"' data-original-title='Detail Delivery Instruction' class='detail_rdi btn btn-success btn-sm'><i class='fas fa-eye'></i></a>",e+="</td>",e+="</tr>",r+=1})),e+="</tbody>",e+="</table>",e+="</div>",e+="<hr>",e+='<div class="row">',e+='<div class="col-xs-12 col-md-6 col-lg-7 col-xl-7">&nbsp;</div>',e+='<div class="col-xs-12 col-md-5 col-lg-5 col-xl-5">',e+='<div class="form-group row">',e+='<label for="total_dpp_rdi" class="col-sm-3 col-form-label text-right">Total DPP</label>',e+='<div class="col-sm-9">',e+='<input type="text" class="form-control text-right" id="total_dpp_rdi" name="total_dpp_rdi" value="0" readonly>',e+="</div>",e+="</div>",e+='<div class="form-group row">',e+='<label for="total_ppn_rdi" class="col-sm-3 col-form-label text-right">Total PPN</label>',e+='<div class="col-sm-9">',e+='<input type="text" class="form-control text-right" id="total_ppn_rdi" name="total_ppn_rdi" value="0" readonly>',e+="</div>",e+="</div>",e+='<div class="form-group row" style="display:none;">',e+='<label for="grand_total_rdi" class="col-sm-3 col-form-label text-right">Grand Total</label>',e+='<div class="col-sm-9">',e+='<input type="text" class="form-control text-right" id="grand_total_rdi" name="grand_total_rdi" value="0" readonly>',e+="</div>",e+="</div>",e+="</div>",e+="</div>",$("#detail_input_rdi").html(e)}},error:function(t,a,e){$("#detail_input_rr").LoadingOverlay("hide",!0);var r=t.status+": "+t.statusText;Swal.fire({type:"error",title:"<strong>Error</strong>",text:r})}}).always((function(){$.LoadingOverlay("hide")}))})),$("body").on("click","#check_all",(function(){$("input[type=checkbox]").prop("checked",$(this).prop("checked"))})),$("#no_faktur_pajak").keypress((function(t){var a=$("#no_faktur_pajak").val();$.ajax({type:"post",url:"/certificate-of-invoice/scan_faktur_pajak",dataType:"json",data:{link:a},beforeSend:function(){$("#card_faktur_pajak").LoadingOverlay("show",!0)},complete:function(){$("#card_faktur_pajak").LoadingOverlay("hide",!0)},success:function(t){for(var a in t)var e=t.success,r=t.message,n=t.data;if("true"==$.trim(e))if($("#no_faktur_pajak").val(""),$.isEmptyObject(n.nomorFaktur))$("#card_faktur_pajak").LoadingOverlay("hide",!0),$("#kode_jenis_transaksi").val(""),$("#fg_pengganti").val(""),$("#nomor_faktur").val(""),$("#tanggal_faktur").val(""),$("#dpp_faktur").val(""),$("#ppn_faktur").val(""),$("#detail_input_faktur_pajak").empty(),Swal.fire({type:"warning",title:"<strong>Perhatian</strong>",text:"Nomor Faktur Pajak tidak ada data !!!"});else{var i=n.tanggalFaktur;$("#kode_jenis_transaksi").val(n.kdJenisTransaksi),$("#fg_pengganti").val(n.fgPengganti),$("#nomor_faktur").val(n.nomorFaktur),$("#tanggal_faktur").val(i.replaceAll("/","-")),$("#dpp_faktur").val(currencyFormat(n.jumlahDpp)),$("#ppn_faktur").val(currencyFormat(n.jumlahPpn)),$("#detail_input_faktur_pajak").empty(),obj_length=Object.values(n.detailTransaksi).length;var o="",l=0;if(o+="<hr>",o+='<div class="table-responsive">',o+='<table class="table table-striped" id="tabel_detail_faktur_pajak">',o+="<thead>",o+="<tr>",o+='<th class="text-center">No.</th>',o+="<th>Nama Barang</th>",o+='<th class="text-right">Harga</th>',o+='<th class="text-right">Jumlah</th>',o+='<th class="text-right">Diskon</th>',o+='<th class="text-right" style="display:none;">Total</th>',o+='<th class="text-right">DPP</th>',o+='<th class="text-right">PPN</th>',o+="</tr>",o+="</thead>",o+="<tbody>",$.isArray(n.detailTransaksi))$.each(n.detailTransaksi,(function(t,a){o+="<tr>",o+='<td class="text-center">'+(l+=1)+"</td>",o+="<td>"+a.nama+'<input type="hidden" value="'+a.nama+'" id="nama_barang_faktur[]" name="nama_barang_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right">'+currencyFormat(a.hargaSatuan)+'<input type="hidden" value="'+a.hargaSatuan+'" id="harga_satuan_faktur[]" name="harga_satuan[]_faktur" class="form-control" readonly></td>',o+='<td class="text-right">'+currencyFormat(a.jumlahBarang)+'<input type="hidden" value="'+a.jumlahBarang+'" id="jumlah_barang_faktur[]" name="jumlah_barang_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right">'+currencyFormat(a.diskon)+'<input type="hidden" value="'+a.diskon+'" id="diskon_faktur[]" name="diskon_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right" style="display:none;">'+currencyFormat(a.hargaTotal)+'<input type="hidden" value="'+a.hargaTotal+'" id="harga_total_faktur[]" name="harga_total_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right">'+currencyFormat(a.dpp)+'<input type="hidden" value="'+a.dpp+'" id="dpp_detail_faktur[]" name="dpp_detail_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right">'+currencyFormat(a.ppn)+'<input type="hidden" value="'+a.ppn+'" id="ppn_detail_faktur[]" name="ppn_detail_faktur[]" class="form-control" readonly></td>',o+="</tr>"}));else{var d=[];$.each(n.detailTransaksi,(function(t,a){d.push(a)})),o+="<tr>",o+='<td class="text-center">1</td>',o+="<td>"+d[0]+'<input type="hidden" value="'+d[0]+'" id="nama_barang_faktur[]" name="nama_barang_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right">'+currencyFormat(d[1])+'<input type="hidden" value="'+d[1]+'" id="harga_satuan_faktur[]" name="harga_satuan_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right">'+currencyFormat(d[2])+'<input type="hidden" value="'+d[2]+'" id="jumlah_barang_faktur[]" name="jumlah_barang_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right">'+currencyFormat(d[4])+'<input type="hidden" value="'+d[4]+'" id="diskon_faktur[]" name="diskon_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right" style="display:none;">'+currencyFormat(d[3])+'<input type="hidden" value="'+d[3]+'" id="harga_total_faktur[]" name="harga_total_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right">'+currencyFormat(d[5])+'<input type="hidden" value="'+d[5]+'" id="dpp_detail_faktur[]" name="dpp_detail_faktur[]" class="form-control" readonly></td>',o+='<td class="text-right">'+currencyFormat(d[6])+'<input type="hidden" value="'+d[6]+'" id="ppn_detail_faktur[]" name="ppn_detail_faktur[]" class="form-control" readonly></td>',o+="</tr>"}o+="</tbody>",o+="</table>",o+="</div>",$("#detail_input_faktur_pajak").html(o),$("#card_faktur_pajak").LoadingOverlay("hide",!0)}else $("#no_faktur_pajak").val(""),$("#card_faktur_pajak").LoadingOverlay("hide",!0),Swal.fire({type:"error",title:"<strong>Error</strong>",html:"<u>Kemungkinan error :</u> <br>"+r})},error:function(t,a,e){$("#no_faktur_pajak").val("");var r=t.status+": "+t.statusText;$("#card_faktur_pajak").LoadingOverlay("hide",!0),Swal.fire({type:"error",title:"<strong>Error</strong>",text:r})}}).always((function(){$.LoadingOverlay("hide")}))})),$("body").on("click","#tambah_coi",(function(){$("input[type=checkbox]").prop("checked",$(this).prop("checked"))})),$("body").on("click","#tambah_coi",(function(a){a.preventDefault();var e=$("#cbo_nomor_plo option:selected").attr("data-id"),r=$('input[name="chk_select[]"]:checked').length,n=$("#nomor_faktur").val(),i=$("#no_invoice_supplier").val(),o=$("#tanggal_invoice_supplier").val(),l=$("#tanggal_faktur").val();amountToFloat($("#total_dpp_rdi").val()),amountToFloat($("#dpp").val());if(0==e)return Swal.fire({type:"warning",title:"<strong>Perhatian</strong>",text:"Plan Order (PLO) belum dipilih !!!"}),!1;if(0==r)return Swal.fire({type:"warning",title:"<strong>Perhatian</strong>",text:"Delivery Instruction (DI) belum ada yang dipilih !!!"}),!1;if(0==n.length)return Swal.fire({type:"warning",title:"<strong>Perhatian</strong>",text:"Faktur pajak belum discan !!!"}),!1;if(0==i.length)return Swal.fire({type:"warning",title:"<strong>Perhatian</strong>",text:"No Invoice Supplier belum diisi !!!"}),!1;if(o!=l)return Swal.fire({type:"warning",title:"<strong>Perhatian</strong>",text:"Tanggal Invoice Supplier tidak sama dengan Tanggal Faktur Pajak !!!"}),!1;$("#no_invoice_supplier").val(),$("#tanggal_invoice_supplier").val(),$("#nomor_faktur").val(),$("#tanggal_faktur").val(),amountToFloat($("#total_dpp_rdi").val()),amountToFloat($("#total_ppn_rdi").val());$.ajax({type:"post",url:"/certificate-of-invoice/store_certificate_of_invoice_tmp",data:$("#form_input_coi").serialize(),beforeSend:function(){$.LoadingOverlay("show")},complete:function(){$.LoadingOverlay("hide")},success:function(a){for(var e in a)var r=a.success,n=a.message;"true"==$.trim(r)?(t(),iziToast.success({title:"OK",message:"Sukses menambah data!",position:"topRight"})):Swal.fire({type:"error",title:"<strong>Error</strong>",html:"<u>Kemungkinan error :</u> <br>"+n})},error:function(t,a,e){var r=t.status+": "+t.statusText;Swal.fire({type:"error",title:"<strong>Error</strong>",text:r})}}).always((function(){$.LoadingOverlay("hide")}))})),$("body").on("click","#reset_coi",(function(a){a.preventDefault(),swal({title:"Reset input Certificate of Invoice ?",text:"Data yang sudah diinput akan direset !",type:"warning",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",reverseButtons:!0}).then((function(a){!0===a.value?(t(),$("#cbo_nomor_plo").focus()):a.dismiss}),(function(t){return!1}))})),$("body").on("click",".delete_inv",(function(a){a.preventDefault();$("#tabel_invoice_tmp").DataTable().row(this).data();var e=$(this).data("invoice_no");swal({title:"Hapus input Certificate of Invoice ?",text:"Data yang sudah diinput akan dihapus !",type:"warning",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",reverseButtons:!0}).then((function(a){!0===a.value?$.ajax({type:"delete",url:"/certificate-of-invoice/delete_invoice_no_tmp/"+e,data:{invoice_no:e},beforeSend:function(){$.LoadingOverlay("show")},complete:function(){$.LoadingOverlay("hide")},success:function(a){for(var e in a)var r=a.success,n=a.message;"true"==$.trim(r)?(t(),iziToast.success({title:"OK",message:"Sukses menghapus data!",position:"topRight"})):Swal.fire({type:"error",title:"<strong>Error</strong>",html:"<u>Kemungkinan error :</u> <br>"+n})},error:function(t,a,e){var r=t.status+": "+t.statusText;Swal.fire({type:"error",title:"<strong>Error</strong>",text:r})}}).always((function(){$.LoadingOverlay("hide")})):a.dismiss}),(function(t){return!1}))})),$("body").on("click",".detail_rdi",(function(t){t.preventDefault();var a=$(this).closest("[data-sysid_rdi]").data("sysid_rdi"),e=$(this).closest("[data-no_rdi]").data("no_rdi");$.ajax({url:"/certificate-of-invoice/get_detail_rdi/"+a,type:"GET",datatype:"json",beforeSend:function(){$("#detail_modal_rdi").LoadingOverlay("show",!0)},complete:function(){$("#detail_modal_rdi").LoadingOverlay("hide",!0)},success:function(t){$("#detail_modal_rdi").empty();var a="",e=0;$.isEmptyObject(t)?(a+="<tr>",a+='<td colspan="7" class="text-center"><b>Tidak ada data</b></td>',a+="</tr>"):t.forEach((function(t){a+="<tr>",a+='<td class="text-center">'+(e+=1)+"</td>",a+='<td class="text-center">'+t.Part_Number+"</td>",a+='<td class="text-left">'+t.Part_Name+"</td>",a+='<td class="text-center">'+t.Unit+"</td>",a+='<td class="text-right">'+currencyFormat(t.Qty_DI)+"</td>",a+='<td class="text-right">'+currencyFormat(t.Price)+"</td>",a+='<td class="text-right">'+currencyFormat(t.Total)+"</td>",a+="</tr>"})),$("#detail_modal_rdi").html(a)},error:function(t,a,e){$("#detail_modal_rdi").LoadingOverlay("hide",!0);var r=t.status+": "+t.statusText;Swal.fire({type:"error",title:"<strong>Error</strong>",text:r})}}).always((function(){$.LoadingOverlay("hide")})),$("#title_modal_detail_rdi").html('Detail Delivery Instruction No. <span class="text-danger">'+e+"</span>"),$("#modal_detail_rdi").modal("show")})),$("body").on("click",'#table_rdi input[type="checkbox"]',(function(){var t=[],a=0,e=0,r=0;$("#table_rdi").find('input[type="checkbox"]:checked').each((function(){var a=$(this).closest("tr"),e=$(this).val(),r=amountToFloat(a.find("td:eq(3)").text()),n=amountToFloat(a.find("td:eq(4)").text()),i=amountToFloat(a.find("td:eq(5)").text());t.push({sysid_rdi:e,dpp:r,ppn:n,total:i})})),$.each(t,(function(t,n){a+=n.dpp,e+=n.ppn,r+=n.total})),$("#total_dpp_rdi").val(currencyFormat(a)),$("#total_ppn_rdi").val(currencyFormat(e)),$("#grand_total_rdi").val(currencyFormat(r))})),$("body").on("click",".detail_inv",(function(t){t.preventDefault();$("#tabel_invoice_tmp").DataTable().row(this).data();var a=$(this).data("invoice_no");$.ajax({url:"/certificate-of-invoice/get_detail_invoice_tmp/"+a,type:"GET",datatype:"json",beforeSend:function(){$("#detail_modal_invoice_tmp").LoadingOverlay("show",!0)},complete:function(){$("#detail_modal_invoice_tmp").LoadingOverlay("hide",!0)},success:function(t){$("#detail_modal_invoice_tmp").empty();var a="";$.isEmptyObject(t)?(a+="<tr>",a+='<td colspan="2" class="text-center"><b>Tidak ada data</b></td>',a+="</tr>"):t.forEach((function(t){a+="<tr>",a+='<td class="text-center">'+t.rdi_no+"</td>",a+='<td class="text-center">'+moment(t.rdi_date).format(format_date_display_2)+"</td>",a+="</tr>",1})),$("#detail_modal_invoice_tmp").html(a)},error:function(t,a,e){$("#detail_modal_invoice_tmp").LoadingOverlay("hide",!0);var r=t.status+": "+t.statusText;Swal.fire({type:"error",title:"<strong>Error</strong>",text:r})}}).always((function(){$.LoadingOverlay("hide")})),$("#title_modal_detail_invoice_tmp").html("Detail Invoice No. "+a),$("#modal_detail_invoice_tmp").modal("show")})),$("body").on("click","#create_coi",(function(t){t.preventDefault(),swal({title:"Lanjutkan proses pembuatan Certificate of Invoice ?",text:"Proses pembuatan Certificate of Invoice",type:"question",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",reverseButtons:!0}).then((function(t){!0===t.value?$.ajax({type:"post",url:"/certificate-of-invoice/store_certificate_of_invoice",data:$("#form_input_coi").serialize(),beforeSend:function(){$.LoadingOverlay("show")},complete:function(){$.LoadingOverlay("hide")},success:function(t){for(var a in t)var e=t.success,r=t.message,n=t.coi_id,i=t.coi_no;if("true"==$.trim(e)){var o="/certificate-of-invoice";swal({title:"Success!",html:r+"<br>Nomor Certificate Of Invoice : <strong>"+i+"</strong><br><br>Lanjutkan ke proses print COI ?",type:"success",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",reverseButtons:!0}).then((function(t){!0===t.value?window.open("/certificate-of-invoice/print_certificate_of_invoice/"+n,"_blank"):t.dismiss,window.location.replace(o)}),(function(t){window.location.replace(o)}))}else Swal.fire({type:"error",title:"<strong>Error</strong>",html:"<u>Kemungkinan error :</u> <br>"+r})},error:function(t,a,e){var r=t.status+": "+t.statusText;Swal.fire({type:"error",title:"<strong>Error</strong>",text:r})}}).always((function(){$.LoadingOverlay("hide")})):t.dismiss}),(function(t){return!1}))})),$("body").on("click","#print_coi",(function(t){$("#datatable_certificate_of_invoice_hdr").DataTable().row(this).data();var a=$(this).data("id");window.open("/certificate-of-invoice/print_certificate_of_invoice/"+a,"_blank")}))})),$(window).load((function(){populate_plo()}))}});